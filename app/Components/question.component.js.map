{"version":3,"file":"question.component.js","sourceRoot":"","sources":["file:///C:/Users/Ideofuzion/Desktop/azure/ng2azure/tmp/broccoli_type_script_compiler-input_base_path-ZMcElJ3S.tmp/0/src/app/Components/question.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component,trigger,state,style,transition,animate} from '@angular/core';\r\nimport {Input} from '@angular/core';\r\nimport {QuestionModel} from './../Models/QuestionModel';\r\nimport {QuestionService} from './../Services/QuestionService';\r\nimport { ROUTER_DIRECTIVES } from '@angular/router';\r\ndeclare var jQuery:any;\r\n@Component({\r\n    selector: 'question',\r\n    templateUrl: './../views/Question.html',\r\n    providers :[QuestionService],\r\n    directives:[ROUTER_DIRECTIVES]\r\n\r\n})\r\nexport class QuestionComponent { \r\n    @Input() Question:string = \"\";\r\n    @Input() QuestionHeading:string;\r\n    private questions: QuestionModel[] = [];\r\n    public QuestionMod : QuestionModel;\r\n    public questionService : QuestionService;\r\n        constructor(private _questionService : QuestionService) {\r\n\t\r\n            this._questionService.getQuestions()\r\n            .subscribe(\r\n                a=> {\r\n                    this.jqueryfun();\r\n                    this.questions = a;\r\n                    console.log(a);\r\n                }\r\n            );\r\n        }\r\n        jqueryfun()\r\n        {\r\n            jQuery( \"#sortable\" ).sortable({\r\n                start: function( event, ui ) {\r\n                    console.log(ui);\r\n                    jQuery(this).attr('data-previndex', ui.item.context.firstElementChild.id);\r\n                },\r\n                update: function(e, ui) {\r\n                    // gets the new and old index then removes the temporary attribute\r\n                    var newIndex = ui.item.index();\r\n                    var oldIndex = jQuery(this).attr('data-previndex');\r\n                    console.log(newIndex, oldIndex);\r\n                    jQuery(this).removeAttr('data-previndex');\r\n                }\r\n            });\r\n            jQuery( \"#sortable\" ).disableSelection();\r\n            \r\n        \r\n    \r\n            jQuery(\"#sortable li\").mousedown(function(){\r\n                jQuery(this).css('cursor','grabbing');\r\n            });\r\n            jQuery(\"#sortable li\").mouseup(function(){\r\n                jQuery(this).css('cursor','grab');\r\n            });\r\n        }\r\n        onSubmit(){\r\n            var count = 0;\r\n            if(this.Question == undefined || this.Question == \"\")\r\n            {\r\n                count = count + 1;\r\n                var div = document.getElementById(\"questiondiv\");\r\n                div.className += \" has-error\";\r\n            }\r\n            if(this.QuestionHeading == undefined || this.QuestionHeading == \"\")\r\n            {\r\n                count = count + 1;\r\n                var div = document.getElementById(\"questiontypediv\");\r\n                div.className += \" has-error\";\r\n            }\r\n            if(count == 0)\r\n            {\r\n                this._questionService.addQuestion(this.QuestionHeading, this.Question).subscribe(\r\n                    a=> {\r\n                        console.log(a);\r\n                        this.QuestionMod  = new QuestionModel(this.QuestionHeading, this.Question, a.data._id);\r\n                        this.questions.push(this.QuestionMod);             \r\n                        this.populateQuestions();           \r\n                    }\r\n                );\r\n                //window.location.reload();\r\n            }\r\n        }\r\n        populateQuestions()\r\n        {\r\n            this._questionService.getQuestions()\r\n            .subscribe(\r\n                a=> {\r\n                    console.log(a);\r\n                    console.log(\"hmmm\");\r\n                    this.questions = a;\r\n                }\r\n            );\r\n        }\r\n        deleteQuestion(questionId)\r\n        {\r\n            this._questionService.deleteQuestion(questionId).subscribe(\r\n                    a=> {\r\n                        for(var i = 0; i< this.questions.length; i++)\r\n                        {\r\n                            if(this.questions[i]._id == questionId)\r\n                            {\r\n                               this.questions.splice(i);\r\n                               this.populateQuestions();\r\n                            }\r\n                        }\r\n                           \r\n                    }\r\n                );\r\n        }\r\n}"]}